<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Git Commit Date Generator</title>
    <meta name="description" content="Generate Git commands to set custom commit dates and fix author/committer timestamps. Supports Bash, PowerShell, and CMD." />
    <meta name="keywords" content="git commit date, backdate commit, change commit date, GitHub contribution, git author date, committer date" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://codefrydev.in/git/" />
    <link rel="icon" href="https://codefrydev.in/favicon-32x32.png" type="image/png" sizes="32x32" />
    <link rel="preconnect" href="https://cdn.tailwindcss.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Open Graph -->
    <meta property="og:title" content="Git Commit Date Generator" />
    <meta property="og:description" content="Generate Git commands to set custom commit dates and fix author/committer timestamps. Supports Bash, PowerShell, and CMD." />
    <meta property="og:url" content="https://codefrydev.in/git/" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <!-- og:image: add a 1200×630 image URL when you have one -->
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Git Commit Date Generator" />
    <meta name="twitter:description" content="Generate Git commands to set custom commit dates and fix author/committer timestamps. Supports Bash, PowerShell, and CMD." />
    <!-- Google Analytics (GA4) -->
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VM01Q3R43D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-VM01Q3R43D');
    </script>
    <script type="application/ld+json">
    [
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Git Commit Date Generator",
        "description": "Generate Git commands to set custom commit dates and fix author/committer timestamps. Supports Bash, PowerShell, and CMD.",
        "url": "https://codefrydev.in/git/",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any"
      },
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How do I change the date of a Git commit?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Use this tool to generate the exact Git commands. Pick your desired date and time, then run the \"Full Timestamp Forge\" command in your repo. That sets both author and committer date so the commit appears with your chosen timestamp everywhere, including GitHub."
            }
          },
          {
            "@type": "Question",
            "name": "Why don't my GitHub contribution squares update?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "GitHub uses the committer date for the contribution graph. If you only set the author date, the square won't change. Use the \"Full Timestamp Forge (Sync)\" command from this tool—it sets both GIT_AUTHOR_DATE and GIT_COMMITTER_DATE. After amending or creating a commit, force-push to update the remote."
            }
          },
          {
            "@type": "Question",
            "name": "What's the difference between author date and committer date?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Author date is when the change was originally made; committer date is when the commit was last applied (e.g. after a rebase or amend). Git log shows both. For backdating and for GitHub contributions, both need to match, which is what the Full Timestamp Forge command does."
            }
          },
          {
            "@type": "Question",
            "name": "Can I use this on Windows (PowerShell/CMD)?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. The tool outputs commands for Bash, PowerShell, and CMD. Switch the shell tabs above the generated commands and copy the version for your environment."
            }
          },
          {
            "@type": "Question",
            "name": "Is it safe to change commit dates?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Changing dates only rewrites history locally. Pushing those changes requires a force push, which can disrupt others if they've pulled the same branch. Use it for personal or solo branches; coordinate with your team before rewriting shared history."
            }
          }
        ]
      }
    ]
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        
        code, textarea, pre {
            font-family: 'JetBrains Mono', monospace;
        }

        .toast {
            visibility: hidden;
            min-width: 200px;
            background-color: #1e293b;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 12px;
            position: fixed;
            z-index: 50;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: opacity 0.3s, visibility 0.3s;
            opacity: 0;
        }

        .toast.show {
            visibility: visible;
            opacity: 1;
        }

        .shell-tab.active {
            background-color: #4f46e5;
            color: white;
            border-color: #4f46e5;
        }

        .skip-link {
            position: absolute;
            top: -100%;
            left: 0.5rem;
            z-index: 100;
            padding: 0.5rem 1rem;
            background: #4f46e5;
            color: white;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: top 0.2s;
        }
        .skip-link:focus {
            top: 0.5rem;
        }
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Git snippet block styling */
        .git-snippet {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8125rem;
            line-height: 1.6;
            padding: 1rem 1.25rem;
            margin: 0;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #cbd5e1;
            border-radius: 0 0 0.5rem 0.5rem;
            border-left: 4px solid #6366f1;
            overflow-x: auto;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
        }
        .git-snippet .git-cmd   { color: #f472b6; font-weight: 600; }                    /* git */
        .git-snippet .git-sub   { color: #7dd3fc; font-weight: 500; }                    /* add, commit, etc. */
        .git-snippet .git-opt   { color: #fbbf24; }                                       /* -m, --amend, -L */
        .git-snippet .git-placeholder { color: #94a3b8; font-style: italic; }              /* <file_path> */
        .git-snippet .git-string { color: #86efac; }                                      /* "message" */
        .git-snippet .git-comment { color: #64748b; font-style: italic; }                /* # comment */
        .git-snippet .git-arg   { color: #a5b4fc; }                                      /* branch names, refs */

        .snippet-tab { background: transparent; border: 1px solid #e2e8f0; color: #64748b; padding: 0.35rem 0.75rem; font-size: 0.75rem; font-weight: 500; border-radius: 0.375rem; cursor: pointer; transition: all 0.15s; }
        .snippet-tab:hover { color: #475569; border-color: #cbd5e1; }
        .snippet-tab.active { background: #4f46e5; color: white; border-color: #4f46e5; }
        .snippet-panel { display: none; }
        .snippet-panel.active { display: block; }
        .gen-input { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.5rem; font-size: 0.875rem; margin-top: 0.25rem; }
        .gen-input:focus { outline: none; border-color: #4f46e5; box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2); }
    </style>
</head>
<body class="p-4 md:p-8 relative">
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="max-w-3xl mx-auto">
        <main id="main-content">
        <header class="mb-8 text-center md:text-left">
            <h1 class="text-3xl font-bold text-slate-900 tracking-tight flex items-center justify-center md:justify-start gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-600" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
                Git Commit Date Generator
            </h1>
            <p class="text-slate-500 mt-2">Forge commit history by generating commands with custom timestamps.</p>
        </header>

        <section aria-labelledby="generator-heading">
            <h2 id="generator-heading" class="sr-only">Generator</h2>
        <!-- Main Card -->
        <div class="bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden mb-8">
            <div class="p-6 md:p-8 space-y-6">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Date Input -->
                    <div>
                        <label for="date" class="block text-sm font-semibold text-slate-700 mb-2">Date</label>
                        <input type="date" id="date" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all" />
                    </div>

                    <!-- Time Input -->
                    <div>
                        <label for="time" class="block text-sm font-semibold text-slate-700 mb-2">Time</label>
                        <input type="time" id="time" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all" />
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Timezone Select -->
                    <div>
                        <label for="timezone" class="block text-sm font-semibold text-slate-700 mb-2">Timezone Offset</label>
                        <div class="relative">
                            <select id="timezone" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none outline-none transition-all cursor-pointer">
                                <option value="+0000">UTC (+0000)</option>
                                <option value="+0530">India (IST +0530)</option>
                                <option value="-0500">USA (EST -0500)</option>
                                <option value="-0800">USA (PST -0800)</option>
                                <option value="+0100">Germany (CET +0100)</option>
                                <option value="+0900">Japan (JST +0900)</option>
                                <option value="+0800">China (CST +0800)</option>
                                <option value="+0300">Russia (MSK +0300)</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-slate-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Message Input -->
                    <div>
                        <label for="message" class="block text-sm font-semibold text-slate-700 mb-2">Commit Message</label>
                        <input type="text" id="message" placeholder="initial commit" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all" />
                    </div>
                </div>

                <!-- Action Button -->
                <button onclick="generateAll()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg shadow-indigo-100 transition-all flex items-center justify-center gap-2 group active:scale-[0.98]">
                    Generate Snippets
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:translate-x-1 transition-transform"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                </button>
            </div>
        </div>
        </section>

        <section id="output-section" aria-labelledby="output-heading">
        <!-- Output Header with Shell Selector -->
        <div id="output-header" class="hidden mb-4 flex items-center justify-between">
            <h2 id="output-heading" class="text-lg font-bold text-slate-800">Generated Commands</h2>
            <div class="flex bg-slate-200 p-1 rounded-lg">
                <button onclick="setShell('bash')" id="btn-bash" class="shell-tab active px-3 py-1 text-xs font-medium rounded-md transition-all border border-transparent" aria-pressed="true">Bash</button>
                <button onclick="setShell('powershell')" id="btn-powershell" class="shell-tab px-3 py-1 text-xs font-medium rounded-md transition-all border border-transparent ml-1" aria-pressed="false">PowerShell</button>
                <button onclick="setShell('cmd')" id="btn-cmd" class="shell-tab px-3 py-1 text-xs font-medium rounded-md transition-all border border-transparent ml-1" aria-pressed="false">CMD</button>
            </div>
        </div>

        <!-- Output Area -->
        <div id="snippets" class="space-y-4 pb-8">
            <div id="placeholder" class="text-center py-12 border-2 border-dashed border-slate-200 rounded-2xl">
                <p class="text-slate-400">Fill details above to generate Git commands</p>
            </div>
        </div>
        </section>

        <section class="mb-12" aria-labelledby="git-ref-heading">
            <h2 id="git-ref-heading" class="text-xl font-bold text-slate-800 mb-4">Most used Git commands</h2>
            <p class="text-slate-600 mb-6">Quick reference for common Git commands. Replace placeholders like <code class="bg-slate-100 px-1 rounded">&lt;file_path&gt;</code> or <code class="bg-slate-100 px-1 rounded">&lt;branch_name&gt;</code> with your values.</p>
            <div id="git-commands-container" class="space-y-4"></div>
        </section>

        <section class="mb-12" aria-labelledby="how-it-works-heading">
            <h2 id="how-it-works-heading" class="text-xl font-bold text-slate-800 mb-4">How it works</h2>
            <p class="text-slate-600 mb-3">This tool generates the exact Git commands you need to <strong>change git commit date</strong> and set both author and committer timestamps. Use it when you want to <strong>backdate commit</strong> history, fix timezone mistakes, or align your <strong>GitHub contribution</strong> graph with the real dates you coded. Pick a date and time (and timezone), then copy the command for your shell—<strong>Bash</strong>, <strong>PowerShell</strong>, or <strong>CMD</strong>—and run it in your repository.</p>
            <p class="text-slate-600">For the contribution graph and most tools, use the &quot;Full Timestamp Forge (Sync)&quot; command so both author and committer date match. After amending or creating a commit, use the generated force-push command to update the remote.</p>
        </section>

        <section class="mb-12" aria-labelledby="faq-heading">
            <h2 id="faq-heading" class="text-xl font-bold text-slate-800 mb-4">Frequently asked questions</h2>
            <dl class="space-y-6">
                <div>
                    <dt class="font-semibold text-slate-800 mb-1">How do I change the date of a Git commit?</dt>
                    <dd class="text-slate-600">Use this tool to generate the exact Git commands. Pick your desired date and time, then run the &quot;Full Timestamp Forge&quot; command in your repo. That sets both author and committer date so the commit appears with your chosen timestamp everywhere, including GitHub.</dd>
                </div>
                <div>
                    <dt class="font-semibold text-slate-800 mb-1">Why don't my GitHub contribution squares update?</dt>
                    <dd class="text-slate-600">GitHub uses the committer date for the contribution graph. If you only set the author date, the square won't change. Use the &quot;Full Timestamp Forge (Sync)&quot; command from this tool—it sets both GIT_AUTHOR_DATE and GIT_COMMITTER_DATE. After amending or creating a commit, force-push to update the remote.</dd>
                </div>
                <div>
                    <dt class="font-semibold text-slate-800 mb-1">What's the difference between author date and committer date?</dt>
                    <dd class="text-slate-600">Author date is when the change was originally made; committer date is when the commit was last applied (e.g. after a rebase or amend). Git log shows both. For backdating and for GitHub contributions, both need to match, which is what the Full Timestamp Forge command does.</dd>
                </div>
                <div>
                    <dt class="font-semibold text-slate-800 mb-1">Can I use this on Windows (PowerShell/CMD)?</dt>
                    <dd class="text-slate-600">Yes. The tool outputs commands for Bash, PowerShell, and CMD. Switch the shell tabs above the generated commands and copy the version for your environment.</dd>
                </div>
                <div>
                    <dt class="font-semibold text-slate-800 mb-1">Is it safe to change commit dates?</dt>
                    <dd class="text-slate-600">Changing dates only rewrites history locally. Pushing those changes requires a force push, which can disrupt others if they've pulled the same branch. Use it for personal or solo branches; coordinate with your team before rewriting shared history.</dd>
                </div>
            </dl>
        </section>
        </main>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast">Command copied to clipboard!</div>

    <script>
        let currentShell = 'bash';

        function escapeHtml(s) {
            return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
        }
        function tokenizeGitLine(line) {
            const tokens = [];
            let i = 0;
            while (i < line.length) {
                if (line[i] === '#') {
                    const rest = line.slice(i);
                    tokens.push({ type: 'comment', value: rest });
                    break;
                }
                if (line[i] === '"') {
                    let end = line.indexOf('"', i + 1);
                    if (end === -1) end = line.length;
                    tokens.push({ type: 'string', value: line.slice(i, end + 1) });
                    i = end + 1;
                    continue;
                }
                if (line[i] === '<') {
                    let end = line.indexOf('>', i + 1);
                    if (end === -1) { tokens.push({ type: 'plain', value: line[i] }); i++; continue; }
                    tokens.push({ type: 'placeholder', value: line.slice(i, end + 1) });
                    i = end + 1;
                    continue;
                }
                if (line[i] === '-' && (line[i + 1] === '-' || /[a-zA-Z]/.test(line[i + 1]))) {
                    let j = i + 1;
                    if (line[j] === '-') { while (j < line.length && /[-a-zA-Z0-9]/.test(line[j])) j++; }
                    else { while (j < line.length && /[a-zA-Z0-9]/.test(line[j])) j++; }
                    tokens.push({ type: 'opt', value: line.slice(i, j) });
                    i = j;
                    continue;
                }
                if (/\s/.test(line[i])) {
                    tokens.push({ type: 'plain', value: line[i] });
                    i++;
                    continue;
                }
                let word = '';
                while (i < line.length && !/[\s#"<>]/.test(line[i]) && (line[i] !== '-' || word.length > 0)) {
                    word += line[i++];
                }
                if (word === 'git') tokens.push({ type: 'cmd', value: word });
                else if (tokens.length > 0 && tokens[tokens.length - 1].type === 'cmd') tokens.push({ type: 'sub', value: word });
                else tokens.push({ type: 'plain', value: word });
            }
            return tokens;
        }
        function highlightGitLine(line) {
            const tokens = tokenizeGitLine(line);
            const cls = { cmd: 'git-cmd', sub: 'git-sub', opt: 'git-opt', placeholder: 'git-placeholder', string: 'git-string', comment: 'git-comment', plain: '' };
            return tokens.map(t => {
                const esc = escapeHtml(t.value);
                return t.type && cls[t.type] ? '<span class="' + cls[t.type] + '">' + esc + '</span>' : esc;
            }).join('');
        }
        function highlightGitSnippet(text) {
            return text.split('\n').map(highlightGitLine).join('\n');
        }
        function placeholderLabel(name) {
            const labels = { file_path: 'File path', file_name: 'File name', branch_name: 'Branch name', branch: 'Branch', target_branch: 'Target branch', feature_branch: 'Feature branch', commit_message: 'Commit message', repository: 'Repository URL', optional_remote: 'Remote (optional)', remote_name: 'Remote name', repository_url: 'Repository URL' };
            return labels[name] || name.replace(/_/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
        }
        function getPlaceholdersFromTemplate(template) {
            const m = (template || '').match(/<([^>]+)>/g);
            return m ? [...new Set(m.map(s => s.slice(1, -1)))] : [];
        }
        function fillTemplate(template, values) {
            let out = template;
            for (const k in values) out = out.replace(new RegExp('<' + k + '>', 'g'), values[k] || '<' + k + '>');
            return out;
        }
        function switchSnippetTab(cardId, tab) {
            const card = document.getElementById(cardId);
            if (!card) return;
            card.querySelectorAll('.snippet-tab').forEach(t => t.classList.remove('active'));
            card.querySelectorAll('.snippet-panel').forEach(p => p.classList.remove('active'));
            const tabEl = card.querySelector('[data-tab="' + tab + '"]');
            const panel = card.querySelector('.snippet-panel[data-panel="' + tab + '"]');
            if (tabEl) tabEl.classList.add('active');
            if (panel) panel.classList.add('active');
        }
        function updateGeneratedCommand(itemId) {
            const template = (window._gitCommandTemplates || {})[itemId];
            if (!template) return;
            const placeholders = getPlaceholdersFromTemplate(template);
            const values = {};
            placeholders.forEach(p => {
                const input = document.getElementById('gen-' + itemId + '-' + p);
                values[p] = input ? input.value.trim() : '';
            });
            const generated = fillTemplate(template, values);
            const pre = document.getElementById('gen-pre-' + itemId);
            const ta = document.getElementById('gen-ref-' + itemId);
            if (pre) pre.innerHTML = highlightGitSnippet(generated);
            if (ta) ta.value = generated;
        }
        function renderGitCommands(list) {
            const container = document.getElementById('git-commands-container');
            if (!container) return;
            window._gitCommandTemplates = {};
            container.innerHTML = '';
            list.forEach((item) => {
                const itemId = item.id || 'snippet';
                const rawCommands = (item.commands || []).join('\n');
                const template = (item.commands || []).join('\n');
                const placeholders = getPlaceholdersFromTemplate(template);
                window._gitCommandTemplates[itemId] = template;

                const textareaId = 'ref-' + itemId;
                const genTextareaId = 'gen-ref-' + itemId;
                const cardId = 'card-' + itemId;
                const card = document.createElement('div');
                card.id = cardId;
                card.className = 'bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm';
                const desc = escapeHtml(item.description || '');
                const title = escapeHtml(item.title || '');
                const ariaLabel = ('Copy ' + (item.title || '')).replace(/"/g, '');

                let genFieldsHtml = '';
                if (placeholders.length) {
                    placeholders.forEach(p => {
                        const label = placeholderLabel(p);
                        const inputId = 'gen-' + itemId + '-' + p;
                        genFieldsHtml += '<div class="mb-3"><label for="' + inputId + '" class="block text-xs font-medium text-slate-600">' + escapeHtml(label) + '</label><input type="text" id="' + inputId + '" class="gen-input" placeholder="' + escapeHtml(p.replace(/_/g, ' ')) + '" data-item-id="' + escapeHtml(itemId) + '"></div>';
                    });
                } else {
                    genFieldsHtml = '<p class="text-xs text-slate-500 mb-3">No inputs needed for this command.</p>';
                }

                card.innerHTML =
                    '<div class="px-4 py-2 border-b border-slate-100 bg-slate-50/50">' +
                    '<div><span class="font-mono font-semibold text-slate-800 text-sm">' + title + '</span>' +
                    '<p class="text-xs text-slate-600 mt-0.5">' + desc + '</p></div>' +
                    '<div class="flex gap-2 mt-3"><button type="button" class="snippet-tab active" data-tab="example" onclick="switchSnippetTab(\'' + cardId + '\', \'example\')">Example</button><button type="button" class="snippet-tab" data-tab="generate" onclick="switchSnippetTab(\'' + cardId + '\', \'generate\')">Generate</button></div>' +
                    '</div>' +
                    '<div class="snippet-panel active p-4 pt-3" data-panel="example">' +
                    '<div class="flex items-start justify-between gap-2 mb-2"><span class="text-xs text-slate-500">Static example</span><button type="button" onclick="copySnippet(\'' + textareaId + '\')" class="text-indigo-600 hover:text-indigo-800 text-xs font-semibold px-2 py-1 rounded hover:bg-indigo-50" aria-label="' + ariaLabel + '">Copy</button></div>' +
                    '<pre class="git-snippet">' + highlightGitSnippet(rawCommands) + '</pre>' +
                    '<textarea id="' + textareaId + '" readonly class="sr-only"></textarea>' +
                    '</div>' +
                    '<div class="snippet-panel p-4 pt-3" data-panel="generate">' +
                    '<div class="mb-4">' + genFieldsHtml + '</div>' +
                    '<div class="flex items-start justify-between gap-2 mb-2"><span class="text-xs text-slate-500">Generated command</span><button type="button" onclick="copySnippet(\'' + genTextareaId + '\')" class="text-indigo-600 hover:text-indigo-800 text-xs font-semibold px-2 py-1 rounded hover:bg-indigo-50" aria-label="Copy generated">Copy</button></div>' +
                    '<pre id="gen-pre-' + itemId + '" class="git-snippet">' + highlightGitSnippet(template) + '</pre>' +
                    '<textarea id="' + genTextareaId + '" readonly class="sr-only"></textarea>' +
                    '</div>';
                container.appendChild(card);

                document.getElementById(textareaId).value = rawCommands;
                document.getElementById(genTextareaId).value = template;
                placeholders.forEach(p => {
                    const input = document.getElementById('gen-' + itemId + '-' + p);
                    if (input) input.addEventListener('input', function() { updateGeneratedCommand(itemId); });
                });
            });
        }
        function loadGitCommands() {
            const fallback = [
                { id: 'add', title: 'git add', description: 'Stage a file or path for the next commit.', commands: ['git add <file_path>'] },
                { id: 'blame', title: 'git blame', description: 'Show who last modified each line. Use -L start,end for a line range.', commands: ['git blame <file_name>', 'git blame -L 5,5 example.txt'] },
                { id: 'bisect', title: 'git bisect', description: 'Find the commit that introduced a bug. Mark current as bad, a known good commit as good; Git narrows it down.', commands: ['git bisect start', 'git bisect bad                 # current is bad', 'git bisect good v2.6.13-rc2    # known good'] },
                { id: 'checkout', title: 'git checkout', description: 'Switch to a branch or restore files.', commands: ['git checkout <branch_name>'] },
                { id: 'clone', title: 'git clone', description: 'Clone a repository into a new directory.', commands: ['git clone <repository>'] },
                { id: 'commit', title: 'git commit', description: 'Create a commit with a message, or amend the last commit.', commands: ['git commit -m "<commit_message>"', 'git commit --amend'] },
                { id: 'diff', title: 'git diff', description: 'Show unstaged changes, or compare with another branch.', commands: ['git diff', 'git diff <branch>'] },
                { id: 'init', title: 'git init', description: 'Initialize a new Git repository in the current directory.', commands: ['git init'] },
                { id: 'pull-push', title: 'git pull / git push', description: 'Fetch and merge from remote, or push your commits to remote.', commands: ['git pull <optional_remote> <branch_name>', 'git push'] },
                { id: 'reflog', title: 'git reflog', description: 'Show reference log of HEAD changes; useful to recover lost commits.', commands: ['git reflog'] },
                { id: 'remote', title: 'git remote add', description: 'Add a remote repository by name and URL.', commands: ['git remote add <remote_name> <repository_url>'] },
                { id: 'log', title: 'git log', description: 'View commit history for the current branch.', commands: ['git log'] },
                { id: 'merge', title: 'git merge', description: 'Merge another branch into the current branch. Checkout target first, then merge.', commands: ['git checkout <target_branch>', 'git merge <feature_branch>'] },
                { id: 'rebase', title: 'git rebase', description: 'Replay current branch commits on top of another branch.', commands: ['git rebase <branch_name>'] },
                { id: 'reset', title: 'git reset', description: 'Reset HEAD (use --soft, --mixed, or --hard). Use with care.', commands: ['git reset'] },
                { id: 'status', title: 'git status', description: 'Show working tree status: staged, unstaged, and untracked files.', commands: ['git status'] }
            ];
            fetch('git-commands.json')
                .then(r => r.ok ? r.json() : Promise.reject())
                .then(renderGitCommands)
                .catch(() => renderGitCommands(fallback));
        }

        function getLocalOffset() {
            const now = new Date();
            const offsetMinutes = -now.getTimezoneOffset();
            const sign = offsetMinutes >= 0 ? '+' : '-';
            const absOffset = Math.abs(offsetMinutes);
            const hours = String(Math.floor(absOffset / 60)).padStart(2, '0');
            const mins = String(absOffset % 60).padStart(2, '0');
            return `${sign}${hours}${mins}`;
        }

        function setCurrentDateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            document.getElementById('date').value = `${year}-${month}-${day}`;

            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('time').value = `${hours}:${minutes}`;

            const localOffset = getLocalOffset();
            const select = document.getElementById('timezone');
            let found = false;

            for (let i = 0; i < select.options.length; i++) {
                if (select.options[i].value === localOffset) {
                    select.selectedIndex = i;
                    found = true;
                    break;
                }
            }

            if (!found) {
                const opt = document.createElement('option');
                opt.value = localOffset;
                opt.text = `Current Local Time (${localOffset})`;
                opt.selected = true;
                select.add(opt);
            }
        }

        function setShell(shell) {
            currentShell = shell;
            document.querySelectorAll('.shell-tab').forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-pressed', 'false');
            });
            const activeBtn = document.getElementById(`btn-${shell}`);
            activeBtn.classList.add('active');
            activeBtn.setAttribute('aria-pressed', 'true');
            generateAll();
        }

        function showToast(msg) {
            const toast = document.getElementById("toast");
            toast.innerText = msg;
            toast.classList.add("show");
            setTimeout(() => {
                toast.classList.remove("show");
            }, 3000);
        }

        function copySnippet(id) {
            const textarea = document.getElementById(id);
            textarea.select();
            try {
                document.execCommand('copy');
                showToast("Copied to clipboard!");
            } catch (err) {
                showToast("Failed to copy automatically.");
            }
        }

        function generateAll() {
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const timezone = document.getElementById('timezone').value;
            const messageInput = document.getElementById('message').value || "initial commit";

            if (!date || !time) {
                if (document.getElementById('placeholder')) showToast("Select date and time.");
                return;
            }

            document.getElementById('output-header').classList.remove('hidden');

            const datetimeWithTZ = `${date} ${time}:00 ${timezone}`;
            const datetimeNoTZ = `${date} ${time}:00`;

            // Command Constructor Logic
            const getCommand = (type) => {
                let msg = messageInput.replace(/"/g, '\\"');
                
                const templates = {
                    bash: {
                        stage: `git add .`,
                        authorOnly: `git commit -m "${msg}" --date="${datetimeNoTZ}"`,
                        forge: `GIT_AUTHOR_DATE="${datetimeWithTZ}" GIT_COMMITTER_DATE="${datetimeWithTZ}" git commit -m "${msg}"`,
                        amend: `GIT_AUTHOR_DATE="${datetimeWithTZ}" GIT_COMMITTER_DATE="${datetimeWithTZ}" git commit --amend --no-edit`,
                        push: `git push origin HEAD --force`,
                        verify: `git log -1 --format=fuller`,
                        undo: `git reset --soft HEAD~1`
                    },
                    powershell: {
                        stage: `git add .`,
                        authorOnly: `git commit -m "${msg}" --date="${datetimeNoTZ}"`,
                        forge: `$env:GIT_AUTHOR_DATE="${datetimeWithTZ}"; $env:GIT_COMMITTER_DATE="${datetimeWithTZ}"; git commit -m "${msg}"`,
                        amend: `$env:GIT_AUTHOR_DATE="${datetimeWithTZ}"; $env:GIT_COMMITTER_DATE="${datetimeWithTZ}"; git commit --amend --no-edit`,
                        push: `git push origin HEAD --force`,
                        verify: `git log -1 --format=fuller`,
                        undo: `git reset --soft HEAD~1`
                    },
                    cmd: {
                        stage: `git add .`,
                        authorOnly: `git commit -m "${msg}" --date="${datetimeNoTZ}"`,
                        forge: `set "GIT_AUTHOR_DATE=${datetimeWithTZ}" && set "GIT_COMMITTER_DATE=${datetimeWithTZ}" && git commit -m "${msg}"`,
                        amend: `set "GIT_AUTHOR_DATE=${datetimeWithTZ}" && set "GIT_COMMITTER_DATE=${datetimeWithTZ}" && git commit --amend --no-edit`,
                        push: `git push origin HEAD --force`,
                        verify: `git log -1 --format=fuller`,
                        undo: `git reset --soft HEAD~1`
                    }
                };
                return templates[currentShell][type];
            };

            const sections = [
                {
                    label: "Commit Operations",
                    items: [
                        { title: "Standard Commit (Author Date)", desc: "Sets visible author date. Committer date remains current.", cmd: getCommand('authorOnly') }
                    ]
                },
                {
                    label: "Maintenance & Sync",
                    items: [
                        { title: "Stage All Changes", desc: "Stage files before committing.", cmd: getCommand('stage') },
                        { title: "Force Push", desc: "Required to update remote history after forging.", cmd: getCommand('push') },
                        { title: "Verify Timestamps", desc: "Displays 'Fuller' log to check Author vs Commit dates.", cmd: getCommand('verify') },
                        { title: "Undo Last Commit", desc: "Reset head by 1, keeping your changes staged.", cmd: getCommand('undo') }
                    ]
                }
            ];

            const container = document.getElementById('snippets');
            container.innerHTML = '';

            sections.forEach((section) => {
                const sectionTitle = document.createElement('h3');
                sectionTitle.className = "text-xs font-bold text-slate-400 uppercase tracking-widest mt-8 mb-4";
                sectionTitle.innerText = section.label;
                container.appendChild(sectionTitle);

                section.items.forEach((s, idx) => {
                    const uniqueId = `snippet-${section.label.replace(/\s/g, '')}-${idx}`;
                    const card = document.createElement('div');
                    card.className = "bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm mb-4";
                    card.innerHTML = `
                        <div class="px-5 py-3 border-b border-slate-100 flex items-center justify-between bg-slate-50/50">
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">${s.title}</h3>
                                <p class="text-[10px] text-slate-500 mt-0.5 uppercase tracking-wide font-medium">${s.desc}</p>
                            </div>
                            <button onclick="copySnippet('${uniqueId}')" class="text-indigo-600 hover:text-indigo-800 text-xs font-semibold px-3 py-1.5 rounded-md hover:bg-indigo-50 transition-colors flex items-center gap-1.5" aria-label="Copy ${s.title.replace(/"/g, '&quot;')} command">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                Copy
                            </button>
                        </div>
                        <div class="p-4 bg-slate-900">
                            <textarea id="${uniqueId}" readonly class="w-full bg-transparent text-indigo-300 text-xs leading-relaxed focus:outline-none h-12 md:h-8 resize-none border-none p-0 overflow-hidden">${s.cmd}</textarea>
                        </div>
                    `;
                    container.appendChild(card);
                });
            });
        }

        window.onload = function() {
            setCurrentDateTime();
            loadGitCommands();
        };
    </script>

</body>
</html>
